{"version":3,"sources":["images/header__logo.svg","components/Header.js","images/profile__avatar-edit.svg","contexts/CurrentUserContext.js","components/Main.js","components/Footer.js","images/delete-card-button.svg","components/Card.js","components/CardPopup.js","components/ImagePopup.js","utils/variables.js","utils/Api.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/DeletePopup.js","components/App.js","index.js"],"names":["Header","className","src","logo","alt","CurrentUserContext","React","createContext","Main","props","currentUser","useContext","onClick","onEditAvatar","avatar","avatarEdit","name","onEditProfile","type","about","onAddPlace","cards","Footer","Card","isOwn","card","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","i","cardLikeButtonClassName","link","onCardClick","onDelete","deleteButton","onCardLike","length","CardPopup","required","placeholder","minLength","maxLength","autoComplete","id","disabled","ImagePopup","onClose","isOpened","e","stopPropagation","apiInfo","api","baseUrl","headers","this","_baseUrl","_headers","res","ok","json","Promise","reject","status","fetch","then","response","_handleResponse","data","method","body","JSON","stringify","title","all","getProfile","getInitialCards","authorization","PopupWithForm","isOpen","children","onSubmit","noValidate","EditProfilePopup","onUpdateProfile","useState","setName","setAbout","useEffect","evt","preventDefault","value","onChange","target","EditAvatarPopup","onUpdateAvatar","avatarRef","useRef","current","ref","AddPlacePopup","setTitle","setLink","DeletePopup","style","zIndex","App","isEditProfilePopupOpen","setEditProfilePopupOpen","isAddPlacePopupOpen","setAddPlacePopupOpen","isEditAvatarPopupOpen","setEditAvatarPopupOpen","isDeleteCardPopupOpen","setDeleteCardPopupOpen","selectedCard","setSelectedCard","deletedCard","setDeletedCard","setCards","setCurrentUser","handleDeleteCardClick","closeAllPopups","handleCardClick","handleCardLike","removeLike","newCard","state","map","c","catch","err","console","log","addLike","handleCardDelete","deleteCard","newCards","filter","item","getData","userInfo","cardElements","Provider","onCardDelete","updateProfile","addCard","editAvatar","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.108038b9.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/header__logo.bbe2a6ea.svg\";","import logo from '../images/header__logo.svg'\n\nexport default function Header() {\n  return (\n    <header className=\"header\">\n    <img src={logo}\n    alt=\"Логотип Место\"\n    className=\"header__logo\"\n    />\n  </header>\n  )\n}\n","export default __webpack_public_path__ + \"static/media/profile__avatar-edit.a086f758.svg\";","import React from \"react\";\n\nexport const CurrentUserContext = React.createContext();\n\nexport const currentUser = {};\n","import React from 'react';\nimport avatarEdit from '../images/profile__avatar-edit.svg';\nimport {CurrentUserContext} from '../contexts/CurrentUserContext.js';\n\nexport default function Main(props) {\n\n  const currentUser = React.useContext(CurrentUserContext);\n\n  return (\n    <main className=\"main\">\n    <section className=\"profile\">\n      <div className=\"profile__avatar-container\">\n        <img\n          onClick={props.onEditAvatar}\n          src={currentUser.avatar}\n          alt=\"Аватар пользователя\"\n          className=\"profile__avatar\"\n        />\n        <img src={avatarEdit}\n        alt=\"Изменить аватар\"\n        className=\"profile__avatar-edit\"\n       />\n      </div>\n\n      <div className=\"profile__info\">\n        <div className=\"profile__name-container\">\n          <h1 className=\"profile__name\">{currentUser.name}</h1>\n          <button onClick={props.onEditProfile} aria-label=\"Редактировать профиль\" type=\"button\" className=\"profile__edit-button\"></button>\n        </div>\n        <p className=\"profile__description\">{currentUser.about}</p>\n      </div>\n      <button  onClick={props.onAddPlace} aria-label=\"Добавить место\" type=\"button\" className=\"profile__add-card\"></button>\n    </section>\n    <section className=\"elements\">\n      {props.cards}\n    </section>\n  </main>\n  )\n}\n","export default function Footer() {\n  return (\n  <footer className=\"footer\">\n    <p className=\"footer__copyright\">&copy; 2021 Mesto Russia</p>\n  </footer>\n\n  )\n}\n","export default __webpack_public_path__ + \"static/media/delete-card-button.e3c42771.svg\";","import React from 'react';\nimport deleteButton from '../images/delete-card-button.svg';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\n\n\n\nexport default function Card(props) {\n  const currentUser = React.useContext(CurrentUserContext);\n\n\n  const isOwn = props.card.owner._id === currentUser._id;\n  const cardDeleteButtonClassName = (\n    `${isOwn ? 'element__delete-button_visible' : 'element__delete-button_hidden'}`\n  );\n  const isLiked = props.card.likes.some(i => i._id === currentUser._id);\n  const cardLikeButtonClassName = (\n    `${isLiked ? 'element__like-button element__like-button_active' : 'element__like-button'}`\n  );\n\n  function handleClick() {\n    props.onCardClick(props.card);\n  }\n\n  function handleLikeClick() {\n    props.onCardLike(props.card)\n  }\n\n  function handleDeleteClick() {\n    props.onDelete(props.card);\n  }\n\n\n  return (\n      <article className=\"element\">\n        <img src={props.link}\n        alt=\"\"\n        className=\"element__cover\"\n        onClick={handleClick}\n        />\n        <img onClick={handleDeleteClick} src={deleteButton} alt=\"Удалить карточку\" className={cardDeleteButtonClassName} />\n        <div className=\"element__description\">\n          <h2 className=\"element__title\">{props.name}</h2>\n          <div className=\"element__like-container\">\n          <button onClick={handleLikeClick} aria-label=\"понравилось\" type=\"button\" className={cardLikeButtonClassName}></button>\n          <p className=\"element__like-button_quantity\">{props.likes.length}</p></div>\n        </div>\n      </article>\n  )\n}\n","\nfunction CardPopup() {\n  return (\n    <>\n        <label className=\"popup__label\">\n          <input required placeholder=\"Название\" name=\"title\" type=\"text\" className=\"popup__input popup__input_field_name\"\n            minLength=\"2\" maxLength=\"40\" autoComplete=\"off\" />\n          <span id=\"title-error\" className=\"error\"></span>\n        </label>\n        <label className=\"popup__label\">\n          <input type=\"url\" required placeholder=\"Ссылка на картинку\" name=\"link\"\n            className=\"popup__input popup__input_field_description\" autoComplete=\"off\" />\n          <span id=\"link-error\" className=\"error\"></span>\n        </label>\n        <button disabled type=\"submit\" className=\"popup__save popup__save_invalid\">Создать</button>\n    </>\n  )\n}\n\n\nexport {CardPopup}\n","export default function ImagePopup({ card, onClose }) {\n  const isOpened = (card.link) ? 'popup_opened' : '';\n\n  return (\n    <div onClick={onClose} className={`popup ${isOpened}`}>\n      <div onClick={((e) => e.stopPropagation())} className=\"image-popup__container\">\n        <button onClick={onClose} aria-label=\"закрыть\" type=\"button\" className=\"popup__close\"></button>\n        <img\n        src={card.link}\n        className=\"popup__image\"\n        alt={card.name}\n        />\n        <figure className=\"popup__subtitle\">{card.name}</figure>\n      </div>\n    </div>\n\n  )\n}\n","const apiInfo = {\n  url: 'https://mesto.nomoreparties.co/v1/cohort-27/',\n  token: '26c8d168-5e2f-4321-b420-05dcb41e9965'\n}\n\nexport {apiInfo}\n","import {apiInfo} from './variables.js'\r\n\r\nclass Api {\r\n  constructor({ baseUrl, headers }) {\r\n    this._baseUrl = baseUrl;\r\n    this._headers = headers;\r\n  }\r\n\r\n  _handleResponse(res) {\r\n    if (res.ok) {\r\n      return res.json();\r\n    }\r\n    return Promise.reject(`Ошибка: ${res.status}`);\r\n  }\r\n\r\n  getProfile() {\r\n    return fetch(`${this._baseUrl}users/me`, {\r\n      headers: this._headers\r\n    })\r\n    .then((response) => this._handleResponse(response));\r\n  }\r\n\r\n  setAvatar(data) {\r\n    return  fetch(`${this._baseUrl}cards`, {\r\n      method: 'PATCH',\r\n      headers: this._headers,\r\n      body: JSON.stringify(data)\r\n  }).then((response) => this._handleResponse(response));}\r\n\r\n  updateProfile(data) {\r\n    return fetch(`${this._baseUrl}users/me`, {\r\n      method: 'PATCH',\r\n      headers: this._headers,\r\n      body: JSON.stringify({\r\n        name: data.name,\r\n        about: data.about,\r\n      })\r\n    })\r\n    .then((response) => this._handleResponse(response));\r\n    }\r\n\r\n  getInitialCards() {\r\n    return fetch(`${this._baseUrl}cards`, {\r\n      headers: this._headers\r\n    })\r\n    .then((response) => this._handleResponse(response));\r\n  }\r\n  addCard(data) {\r\n    return fetch(`${this._baseUrl}cards`, {\r\n      method: 'POST',\r\n      headers: this._headers,\r\n      body: JSON.stringify({\r\n        name: data.title,\r\n        link: data.link\r\n      })\r\n    })\r\n    .then((response) => this._handleResponse(response));\r\n  }\r\n  getData() {\r\n    return Promise.all([ this.getProfile(), this.getInitialCards() ])\r\n  }\r\n\r\n  addLike(id) {\r\n    return fetch(`${this._baseUrl}cards/likes/${id}`, {\r\n      method: 'PUT',\r\n      headers: this._headers,\r\n    })\r\n    .then((response) => this._handleResponse(response));\r\n  }\r\n\r\n  removeLike(id) {\r\n    return fetch(`${this._baseUrl}cards/likes/${id}`, {\r\n      method: 'DELETE',\r\n      headers: this._headers,\r\n    })\r\n    .then((response) => this._handleResponse(response));\r\n  }\r\n\r\n  deleteCard(id) {\r\n    return fetch(`${this._baseUrl}cards/${id}`, {\r\n      method: 'DELETE',\r\n      headers: this._headers,\r\n    })\r\n    .then((response) => this._handleResponse(response));\r\n  }\r\n\r\n  editAvatar(data) {\r\n    return fetch(`${this._baseUrl}users/me/avatar`, {\r\n      method: 'PATCH',\r\n      headers: this._headers,\r\n      body: JSON.stringify({\r\n        avatar: data.avatar\r\n       })\r\n    })\r\n    .then((response) => this._handleResponse(response));\r\n  }\r\n}\r\nconst api = new Api({\r\n  baseUrl: apiInfo.url,\r\n  headers: {\r\n    authorization: apiInfo.token,\r\n    'Content-Type': 'application/json'\r\n  }});\r\n\r\nexport {api}\r\n","export default function PopupWithForm({isOpen, onClose, name, title, children, onSubmit}) {\n  let isOpened = isOpen ? 'popup_opened' : \"\";\n\n  return (\n      <div onClick={onClose} className={`popup ${name} ${isOpened}`}>\n        <div onClick={((e) => e.stopPropagation())} className=\"popup__container\">\n          <h2 className=\"popup__title\">{title}</h2>\n          <form noValidate name={name} className=\"popup__form\" onSubmit={onSubmit}>\n            {children}\n          </form>\n          <button onClick={onClose} aria-label=\"закрыть\" type=\"button\" className=\"popup__close\"></button>\n        </div>\n      </div>\n  )\n}\n\n","import React, { useState, useEffect } from 'react';\nimport PopupWithForm from './PopupWithForm.js';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext.js';\n\n\nexport default function EditProfilePopup({onUpdateProfile, isOpen, onClose}) {\n  const [name, setName] = useState('')\n  const [about, setAbout] = useState('');\n\n  function handleChangeName(evt) {\n    setName(evt.target.value)\n  }\n  function handleChangeAbout(evt) {\n    setAbout(evt.target.value)\n  }\n  function handleSubmit(evt) {\n    evt.preventDefault();\n    onUpdateProfile({name, about})\n  }\n\n  const currentUser = React.useContext(CurrentUserContext)\n\n  useEffect(() => {\n    setName(currentUser.name);\n    setAbout(currentUser.about);\n  }, [ currentUser, isOpen ])\n\n  return (\n    <PopupWithForm onClose={onClose} name=\"profile-popup\" title=\"Редактировать профиль\" isOpen={isOpen} onSubmit={handleSubmit}>\n          <label className=\"popup__label\">\n            <input required placeholder=\"Имя\" name=\"name\" type=\"text\"\n              className=\"popup__input popup__input_field_name\" minLength=\"2\" maxLength=\"40\" autoComplete=\"off\" value={name || ''} onChange={handleChangeName} />\n            <span id=\"name-error\" className=\"error\"></span>\n            </label>\n          <label className=\"popup__label\">\n              <input required placeholder=\"Профессиональная деятельность\" name=\"about\" type=\"text\"\n                className=\"popup__input popup__input_field_description\" minLength=\"2\" maxLength=\"200\" autoComplete=\"off\" value={about || ''} onChange={handleChangeAbout} />\n              <span id=\"about-error\" className=\"error\"></span>\n          </label>\n            <button type=\"submit\" className=\"popup__save\">Сохранить</button>\n    </PopupWithForm>\n    )\n}\n","import React from 'react';\nimport PopupWithForm from './PopupWithForm.js';\n\nexport default function EditAvatarPopup({onUpdateAvatar, onClose, isOpen}) {\n  const avatarRef = React.useRef();\n\n  function handleSubmit(evt) {\n    evt.preventDefault();\n    onUpdateAvatar({\n      avatar: avatarRef.current.value,\n    });\n  }\n\n\n  return (\n    <PopupWithForm onClose={onClose} name=\"profile-popup\" title=\"Редактировать профиль\" isOpen={isOpen} onSubmit={handleSubmit}>\n       <label className=\"popup__label\">\n          <input ref={avatarRef} required placeholder=\"Ссылка на картинку\" name=\"avatar\" type=\"url\"\n            className=\"popup__input popup__input_field_description\" minLength=\"2\" maxLength=\"200\" autoComplete=\"off\" />\n          <span id=\"avatar-error\" className=\"error\"></span>\n        </label>\n        <button type=\"submit\" className=\"popup__save\">Сохранить</button>\n    </PopupWithForm>\n  )\n\n}\n","import React, { useState } from 'react';\nimport PopupWithForm from \"./PopupWithForm\";\n\nexport default function AddPlacePopup (props) {\n  const [title, setTitle] = useState('');\n  const[link, setLink] = useState('');\n\n\n  function handleChangeTitle(evt) {\n    setTitle(evt.target.value);\n  }\n  function handleChangeLink(evt) {\n    setLink(evt.target.value);\n  }\n\n  function handleSubmit(evt) {\n  evt.preventDefault();\n\n  props.onAddPlace({title, link})\n}\n\n  return (\n    <PopupWithForm onClose={props.onClose} name=\"card-popup\" title=\"Новое место\"  isOpen={props.isOpen} onSubmit={handleSubmit}>\n        <label className=\"popup__label\">\n          <input required placeholder=\"Название\" name=\"title\" type=\"text\" className=\"popup__input popup__input_field_name\"\n            minLength=\"2\" maxLength=\"40\" autoComplete=\"off\" value={title} onChange={handleChangeTitle}/>\n          <span id=\"title-error\" className=\"error\"></span>\n        </label>\n        <label className=\"popup__label\">\n          <input type=\"url\" required placeholder=\"Ссылка на картинку\" name=\"link\"\n            className=\"popup__input popup__input_field_description\" autoComplete=\"off\" value={link} onChange={handleChangeLink}/>\n          <span id=\"link-error\" className=\"error\"></span>\n        </label>\n        <button type=\"submit\" className=\"popup__save\">Создать</button>\n    </PopupWithForm>\n  )\n}\n","import PopupWithForm from \"./PopupWithForm\";\n\nexport default function DeletePopup({ card, onSubmit, onClose, isOpen }) {\n\n  function handleSubmit(evt) {\n    evt.preventDefault();\n    onSubmit(card);\n    onClose()\n  }\n\n  return (\n    <PopupWithForm card={card} name=\"delete-popup\" title=\"Вы уверены?\" onSubmit={handleSubmit} onClose={onClose} isOpen={isOpen}>\n        <label style={{ zIndex: \"-1\"}} className=\"popup__label\">\n          <input disabled type=\"url\" required placeholder=\"Костыль :)\" name=\"link\"\n            className=\"popup__input popup__input_field_description\" autoComplete=\"off\" />\n          <span id=\"link-error\" className=\"error\"></span>\n        </label>\n      <button aria-label=\"Закрыть\" type=\"submit\" className=\"popup__save\">Да</button>\n    </PopupWithForm>\n  )\n}\n","import React, { useState, useEffect } from 'react';\nimport Header from './Header.js'\nimport Main from './Main.js';\nimport Footer from './Footer.js';\nimport Card from './Card.js';\nimport { CardPopup } from './CardPopup.js';\nimport ImagePopup from './ImagePopup.js';\nimport { api } from '../utils/Api';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext.js';\nimport EditProfilePopup from './EditProfilePopup';\nimport EditAvatarPopup from './EditAvatarPopup';\nimport AddPlacePopup from './AddPlacePopup';\nimport DeletePopup from './DeletePopup';\n\nfunction App() {\nconst [isEditProfilePopupOpen, setEditProfilePopupOpen] = useState(false);\nconst [isAddPlacePopupOpen, setAddPlacePopupOpen] = useState(false);\nconst [isEditAvatarPopupOpen, setEditAvatarPopupOpen] = useState(false);\nconst [isDeleteCardPopupOpen, setDeleteCardPopupOpen] = useState(false);\nconst [selectedCard, setSelectedCard] = useState({name: '', link: ''});\nconst [deletedCard, setDeletedCard] = useState({name: '', link: ''})\nconst [cards, setCards] = useState([]);\nconst [currentUser, setCurrentUser] = useState({});\n\nuseEffect(() => { ///получение профиля пользователя\n  api.getData()\n  .then((data) => {\n    const [userInfo, cards] = data;\n    setCurrentUser(userInfo);\n    setCards(cards);\n  })\n  .catch((err) => console.log(err));\n}, [] );\n\n\n\n  function handleEditAvatarClick() {\n    setEditAvatarPopupOpen(!isEditAvatarPopupOpen);\n  }\n\n  function handleEditProfileClick() {\n    setEditProfilePopupOpen(!isEditProfilePopupOpen);\n  }\n\n  function handleAddPlaceClick() {\n    setAddPlacePopupOpen(!isAddPlacePopupOpen);\n  }\n\n  function handleDeleteCardClick(card) {\n    setDeleteCardPopupOpen(!isDeleteCardPopupOpen);\n    setDeletedCard(card);\n  }\n\n  function closeAllPopups() {\n    setEditAvatarPopupOpen(false);\n    setAddPlacePopupOpen(false);\n    setDeleteCardPopupOpen(false);\n    setEditProfilePopupOpen(false);\n    setSelectedCard({name: '', link: ''});\n    setDeletedCard({name: '', link: '', _id: ''});\n  }\n\n  function handleCardClick(props) {\n    setSelectedCard(props)\n  }\n\n  function handleUpdateProfile(data) {\n    api.updateProfile(data)\n    .then((res) => {\n      setCurrentUser(res);\n      closeAllPopups();\n    })\n    .catch((err) => console.log(err))\n  }\n\n  function handleUpdateAvatar(data) {\n    api.editAvatar(data)\n    .then((res) => {\n      setCurrentUser(res);\n      closeAllPopups();\n    })\n  }\n\n  function handleCardLike(card) {\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\n    if (!isLiked){\n    api.addLike(card._id, !isLiked)\n    .then((newCard) => {\n      setCards((state) => state.map((c) => c._id === card._id ? newCard : c));\n  })\n    .catch((err) => console.log(err))\n   }\n   else {\n     api.removeLike(card._id, !isLiked)\n     .then((newCard) => {\n       setCards((state) => state.map((c) => c._id === card._id ? newCard : c));\n   })\n     .catch((err) => console.log(err))\n   }\n}\n\nfunction handleCardDelete(card) {\n  api.deleteCard(card._id).then(() => {\n      const newCards = cards.filter((item) => card._id !== item._id)\n      setCards(newCards)\n  }).catch((err) => console.log(err))\n}\n\n\n  function addPlaceSubmit(card) {\n    api.addCard(card)\n    .then((newCard) => {\n      setCards([newCard, ...cards]);\n      closeAllPopups();\n    })\n    .catch((err) => console.log(err))\n  }\n\n  useEffect(() => {\n    api.getInitialCards('cards')\n    .then((data) => {\n      setCards(data)\n        })\n    .catch((err) => console.log(err))\n  }, [] );\n\n  const cardElements = cards.map((card) => {\n    return (\n      <Card key={card._id} card={card} link={card.link} name={card.name} likes={card.likes} onDelete={handleDeleteCardClick} onCardClick={handleCardClick} onCardLike={handleCardLike} />\n    )\n  });\n\n\n  return (\n      <CurrentUserContext.Provider value={ currentUser }>\n        <Header />\n        <Main cards={cardElements} onCardLike={handleCardLike} onCardDelete={handleCardDelete} onEditProfile={handleEditProfileClick} onAddPlace={handleAddPlaceClick} onEditAvatar={handleEditAvatarClick} onDelete={handleDeleteCardClick} onCardClick={handleCardClick} />\n        <Footer />\n\n        <EditProfilePopup onClose={closeAllPopups} isOpen={isEditProfilePopupOpen} onUpdateProfile={handleUpdateProfile}/>\n\n        <AddPlacePopup onClose={closeAllPopups} children={<CardPopup />}  isOpen={isAddPlacePopupOpen} onAddPlace={addPlaceSubmit}/>\n\n        <DeletePopup card={deletedCard} onClose={closeAllPopups} isOpen={isDeleteCardPopupOpen} onSubmit={handleCardDelete} />\n\n        <EditAvatarPopup onClose={closeAllPopups} isOpen={isEditAvatarPopupOpen} onUpdateAvatar={handleUpdateAvatar} />\n\n        <ImagePopup card={selectedCard} onClose={closeAllPopups} />\n      </CurrentUserContext.Provider>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport { BrowserRouter } from 'react-router-dom';\nimport App from './components/App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}